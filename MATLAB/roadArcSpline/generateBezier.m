function [x, y] = generateBezier(P0,P1,P2,P3,P4,P5)

    t = 0:0.001:1;
    x = (1-t).^5 * P0(1) + 5*t.*(1-t).^4 * P1(1) + 10*t.^2.*(1-t).^3 * P2(1)+...
        10*t.^3.*(1-t).^2 * P3(1) + 5*t.^4.*(1-t)*P4(1) + t.^5 * P5(1);

    y = (1-t).^5 * P0(2) + 5*t.*(1-t).^4 * P1(2) + 10*t.^2.*(1-t).^3 * P2(2)+...
        10*t.^3.*(1-t).^2 * P3(2) + 5*t.^4.*(1-t)*P4(2) + t.^5 * P5(2);
    
    tprime = 1 - t; % flip t because the BÃ©zier curve formula uses (1 - t)

    dx_dt = -5*(1 - t).^4 * P0(1) + 5*(1 - t).^4 * P1(1) + ...
            -20*t.*(1 - t).^3 * P2(1) + 20*t.*(1 - t).^3 * P3(1) + ...
            -20*t.^2.*(1 - t).^2 * P4(1) + 5*t.^4 * P5(1);

    dy_dt = -5*(1 - t).^4 * P0(2) + 5*(1 - t).^4 * P1(2) + ...
            -20*t.*(1 - t).^3 * P2(2) + 20*t.*(1 - t).^3 * P3(2) + ...
            -20*t.^2.*(1 - t).^2 * P4(2) + 5*t.^4 * P5(2);

end